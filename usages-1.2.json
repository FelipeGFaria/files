{"apiVersion":"v1","swaggerVersion":"1.2","resourcePath":"/usages","produces":["application/json; charset=UTF-8"],"apis":[{"path":"/v1/usages","operations":[{"notes":"\u003cp\u003ePara criar um novo registro de utilização em um período é necessário informar um dos produtos contidos na assinatura. Isso pode ser feito através do atributo \u003ccode\u003eproduct_id\u003c/code\u003e (ID do produto) ou \u003ccode\u003eproduct_item_id\u003c/code\u003e (ID do item da assinatura).\u003c/p\u003e\n\n\u003cp\u003eAo remover um registro com sucesso, o próprio será retornado no corpo da resposta.\u003c/p\u003e\n","summary":"Cria um novo registro de utilização.","nickname":"POST--version-usages---format-","method":"POST","parameters":[{"paramType":"body","name":"body","description":"\u003cp\u003eJSON com atributos do novo registro de utilização.\u003c/p\u003e\n","type":"Usage::Parameters::Create","required":false,"allowMultiple":false}],"type":"Usage","responseMessages":[{"code":201,"message":"Registro de utilização criado com sucesso."},{"code":422,"message":"Parâmetros inválidos. Verificar erro na resposta."},{"code":400,"message":"Erro de sintaxe JSON no corpo do request."}]}]},{"path":"/v1/usages/{id}","operations":[{"notes":"\u003cp\u003eSomente é possível remover um registro de utilização que não está associado a uma fatura. Se o período já estiver faturado, será necessário cancelar a fatura antes de removê-lo.\u003c/p\u003e\n","summary":"Remove um período de utilização através do ID.","nickname":"DELETE--version-usages--id---format-","method":"DELETE","parameters":[{"paramType":"path","name":"id","description":"\u003cp\u003eID do registro de utilização que deverá ser removido.\u003c/p\u003e\n","type":"integer","required":true,"allowMultiple":false,"format":"int32"}],"type":"Usage","responseMessages":[{"code":200,"message":"Registro de utilização removido com sucesso."},{"code":404,"message":"Registro de utilização não encontrado."},{"code":422,"message":"Parâmetros inválidos. Verificar erro na resposta."},{"code":400,"message":"Erro de sintaxe JSON no corpo do request."}]}]}],"basePath":"https://app.vindi.com.br/api","models":{"Usage":{"id":"Usage","properties":{"id":{"type":"integer","description":"ID do registro de utilização","format":"int32"},"quantity":{"type":"integer","description":"Quantidade informada no registro de utilização","format":"int32"},"description":{"type":"string","description":"Descrição opcional"},"created_at":{"type":"string","description":"Data e hora da geração do registro de utilização"},"metadata":{"$ref":"metadata","description":"Metadados do registro de utilização"},"product_item":{"$ref":"ProductItem::Summary","description":"Item da assinatura relacionado ao registro de utilização"},"bill":{"$ref":"Bill::Summary","description":"Fatura relacionada ao registro de utilização"}},"required":["id","quantity","created_at","product_item"]},"Usage::Parameters::Create":{"id":"Usage::Parameters::Create","properties":{"period_id":{"type":"integer","description":"ID do período que receberá o registro de utilização","format":"int32"},"product_id":{"type":"integer","description":"ID do produto que receberá o registro de utilização. Informe este parâmetro ou `product_item_id`","format":"int32"},"product_item_id":{"type":"integer","description":"ID do item da assinatura que receberá o registro de utilização. Informe este parâmetro ou `product_id`","format":"int32"},"quantity":{"type":"integer","description":"Quantidade do registro de utilização","format":"int32"},"description":{"type":"string","description":"Descrição opcional"},"metadata":{"$ref":"metadata","description":"Metadados do registro de utilização"}},"required":["period_id","quantity"]},"ProductItem::Summary":{"id":"ProductItem::Summary","properties":{"id":{"type":"integer","description":"ID do item","format":"int32"},"product":{"$ref":"Product::Summary","description":"Produto associado ao plano"}},"required":["id","product"]},"Product::Summary":{"id":"Product::Summary","properties":{"id":{"type":"integer","description":"ID do produto","format":"int32"},"name":{"type":"string","description":"Nome do produto"},"code":{"type":"string","description":"Código externo do produto"}},"required":["id","name"]},"Bill::Summary":{"id":"Bill::Summary","properties":{"id":{"type":"integer","description":"ID da fatura","format":"int32"},"code":{"type":"string","description":"Código externo para referência via API"}},"required":["id"]}}}
