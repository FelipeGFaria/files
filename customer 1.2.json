{
  "apiVersion": "v1",
  "swaggerVersion": "1.2",
  "resourcePath": "/customers",
  "produces": [
    "application/json; charset=UTF-8"
  ],
  "apis": [
    {
      "path": "/v1/customers",
      "operations": [
        {
          "notes": "<p>Utilize este método para listar os clientes associados à sua conta na Vindi. Leia a documentação sobre <a href=\"http://atendimento.vindi.com.br/hc/pt-br/articles/203020644#pagination\">paginação</a> e <a href=\"http://atendimento.vindi.com.br/hc/pt-br/articles/204163150\">filtros de busca</a>.</p>\n\n<h4 id=\"atributos-para-busca\">Atributos para busca</h4>\n<p><code>id</code>, <code>name</code>, <code>status</code>, <code>code</code>, <code>email</code>, <code>registry_code</code>, <code>created_at</code> e <code>updated_at</code>.</p>\n",
          "summary": "Retorna uma lista de clientes.",
          "nickname": "GET--version-customers---format-",
          "method": "GET",
          "parameters": [
            {
              "paramType": "query",
              "name": "page",
              "description": "<p>Page of results to fetch.</p>\n",
              "type": "integer",
              "required": false,
              "allowMultiple": false,
              "format": "int32",
              "defaultValue": 1
            },
            {
              "paramType": "query",
              "name": "per_page",
              "description": "<p>Number of results to return per page.</p>\n",
              "type": "integer",
              "required": false,
              "allowMultiple": false,
              "format": "int32"
            },
            {
              "paramType": "query",
              "name": "query",
              "description": "<p>Filtro para busca</p>\n",
              "type": "string",
              "required": false,
              "allowMultiple": false
            },
            {
              "paramType": "query",
              "name": "sort_by",
              "description": "<p>Atributo opcional para ordenação</p>\n",
              "type": "string",
              "required": false,
              "allowMultiple": false,
              "defaultValue": "created_at",
              "enum": [
                "id",
                "name",
                "status",
                "code",
                "email",
                "registry_code",
                "created_at",
                "updated_at"
              ]
            },
            {
              "paramType": "query",
              "name": "sort_order",
              "description": "<p>Sentido opcional para ordenação</p>\n",
              "type": "string",
              "required": false,
              "allowMultiple": false,
              "defaultValue": "asc",
              "enum": [
                "asc",
                "desc"
              ]
            }
          ],
          "type": "Customer",
          "responseMessages": [
            {
              "code": 200,
              "message": "Consulta realizada com sucesso."
            },
            {
              "code": 422,
              "message": "Parâmetros inválidos. Verificar erro na resposta."
            },
            {
              "code": 400,
              "message": "Erro de sintaxe JSON no corpo do request."
            }
          ]
        },
        {
          "notes": "<p>Utilize esta função para criar novos clientes na plataforma. Cliente é uma das entidades básicas do sistema. Ele representa a pessoa física ou jurídica que possui uma ou mais assinaturas.</p>\n\n<h4 id=\"cdigo-da-api\">Código da API</h4>\n\n<p>Quando utilizado, o campo <code>code</code> deve ser único em todo escopo da empresa. Recomendamos o uso de um código auto-incrementável do seu próprio banco de dados. Desaconselhamos a utilização de qualquer dado que seja informado pelo cliente, como e-mail ou número do documento.</p>\n\n",
          "summary": "Cadastra um novo cliente.",
          "nickname": "POST--version-customers---format-",
          "method": "POST",
          "parameters": [
            {
              "paramType": "body",
              "name": "body",
              "description": "<p>JSON com atributos do novo cliente.</p>\n",
              "type": "Customer::Parameters::Create",
              "required": false,
              "allowMultiple": false
            }
          ],
          "type": "Customer",
          "responseMessages": [
            {
              "code": 201,
              "message": "Cliente cadastrado com sucesso."
            },
            {
              "code": 422,
              "message": "Parâmetros inválidos. Verificar erro na resposta."
            },
            {
              "code": 400,
              "message": "Erro de sintaxe JSON no corpo do request."
            }
          ]
        }
      ]
    },
    {
      "path": "/v1/customers/{id}",
      "operations": [
        {
          "notes": "",
          "summary": "Retorna um cliente específico através do ID.",
          "nickname": "GET--version-customers--id---format-",
          "method": "GET",
          "parameters": [
            {
              "paramType": "path",
              "name": "id",
              "description": "<p>ID do cliente que deverá ser retornado.</p>\n",
              "type": "integer",
              "required": true,
              "allowMultiple": false,
              "format": "int32"
            }
          ],
          "type": "Customer",
          "responseMessages": [
            {
              "code": 200,
              "message": "Ok. Cliente encontrado."
            },
            {
              "code": 404,
              "message": "Cliente não encontrado."
            },
            {
              "code": 422,
              "message": "Parâmetros inválidos. Verificar erro na resposta."
            },
            {
              "code": 400,
              "message": "Erro de sintaxe JSON no corpo do request."
            }
          ]
        },
        {
          "notes": "<p>Esta operação irá mover o cliente para uma área especial da plataforma onde não poderá receber novas assinaturas ou sofrer alterações, porém seu histórico será mantido.</p>\n\n<p>Todas as assinaturas e faturas pendentes serão canceladas automaticamente.</p>\n",
          "summary": "Arquiva um cliente específico através do ID.",
          "nickname": "DELETE--version-customers--id---format-",
          "method": "DELETE",
          "parameters": [
            {
              "paramType": "path",
              "name": "id",
              "description": "<p>ID do cliente que deverá ser arquivado.</p>\n",
              "type": "integer",
              "required": true,
              "allowMultiple": false,
              "format": "int32"
            }
          ],
          "type": "Customer",
          "responseMessages": [
            {
              "code": 200,
              "message": "Cliente arquivado com sucesso."
            },
            {
              "code": 404,
              "message": "Cliente não encontrado."
            },
            {
              "code": 422,
              "message": "Parâmetros inválidos. Verificar erro na resposta."
            },
            {
              "code": 400,
              "message": "Erro de sintaxe JSON no corpo do request."
            }
          ]
        },
        {
          "notes": "<p>Utilize este método para atualizar um cliente existente.</p>\n\n<h4 id=\"atualizando-nmeros-de-telefone\">Atualizando números de telefone</h4>\n\n<p>A lista de números de telefone associada ao cliente é representada pelo array <code>phones</code>.</p>\n\n<ul>\n  <li>Para <strong>atualizar</strong> um objeto existente no array <code>phones</code>, simplesmente indique seu ID e os novos atributos.</li>\n  <li>Para <strong>criar</strong> um novo objeto, informe apenas os atributos sem o ID.</li>\n  <li>Para <strong>remover</strong> um objeto existente, inclua o atributo <code>\"_destroy\": \"1\"</code>, sem esquecer de informar o ID.</li>\n</ul>\n\n<p>Além disso é possível omitir o parâmetro <code>phones</code> na requisição para não atualizar os produtos relacionados.</p>\n",
          "summary": "Atualiza um cliente existente através do ID.",
          "nickname": "PUT--version-customers--id---format-",
          "method": "PUT",
          "parameters": [
            {
              "paramType": "path",
              "name": "id",
              "description": "<p>ID do cliente que deverá ser atualizado.</p>\n",
              "type": "integer",
              "required": true,
              "allowMultiple": false,
              "format": "int32"
            },
            {
              "paramType": "body",
              "name": "body",
              "description": "<p>JSON com novos atributos do cliente.</p>\n",
              "type": "Customer::Parameters::Update",
              "required": false,
              "allowMultiple": false
            }
          ],
          "type": "Customer",
          "responseMessages": [
            {
              "code": 200,
              "message": "Cliente atualizado com sucesso."
            },
            {
              "code": 404,
              "message": "Cliente não encontrado."
            },
            {
              "code": 422,
              "message": "Parâmetros inválidos. Verificar erro na resposta."
            },
            {
              "code": 400,
              "message": "Erro de sintaxe JSON no corpo do request."
            }
          ]
        }
      ]
    },
    {
      "path": "/v1/customers/{id}/unarchive",
      "operations": [
        {
          "notes": "",
          "summary": "Reverte o arquivamento de um cliente.",
          "nickname": "POST--version-customers--id-unarchive---format-",
          "method": "POST",
          "parameters": [
            {
              "paramType": "path",
              "name": "id",
              "description": "<p>ID do cliente.</p>\n",
              "type": "integer",
              "required": true,
              "allowMultiple": false,
              "format": "int32"
            }
          ],
          "type": "Customer",
          "responseMessages": [
            {
              "code": 200,
              "message": "Arquivamento revertido com sucesso."
            },
            {
              "code": 404,
              "message": "Cliente não encontrado."
            },
            {
              "code": 422,
              "message": "Parâmetros inválidos. Verificar erro na resposta."
            },
            {
              "code": 400,
              "message": "Erro de sintaxe JSON no corpo do request."
            }
          ]
        }
      ]
    }
  ],
  "basePath": "https://app.vindi.com.br/api",
  "models": {
    "Customer": {
      "id": "Customer",
      "properties": {
        "id": {
          "type": "integer",
          "description": "ID do cliente",
          "format": "int32"
        },
        "name": {
          "type": "string",
          "description": "Nome do cliente"
        },
        "email": {
          "type": "string",
          "description": "E-mail do cliente"
        },
        "registry_code": {
          "type": "string",
          "description": "CPF ou CNPJ do cliente"
        },
        "code": {
          "type": "string",
          "description": "Código opcional para referência via API"
        },
        "notes": {
          "type": "string",
          "description": "Observações adicionais internas sobre o cliente"
        },
        "status": {
          "type": "string",
          "description": "Status do cliente",
          "enum": [
            "active",
            "inactive",
            "archived"
          ]
        },
        "created_at": {
          "type": "string",
          "description": "Data e hora do cadastro do cliente"
        },
        "updated_at": {
          "type": "string",
          "description": "Data e hora da última atualização do cliente"
        },
        "metadata": {
          "$ref": "metadata",
          "description": "Metadados do cliente"
        },
        "address": {
          "$ref": "Address",
          "description": "Endereço"
        },
        "phones": {
          "items": {
            "$ref": "Phone"
          },
          "type": "array",
          "description": "Lista de números de telefone do cliente"
        }
      },
      "required": [
        "id",
        "name",
        "status",
        "created_at",
        "updated_at"
      ]
    },
    "Address": {
      "id": "Address",
      "properties": {
        "street": {
          "type": "string",
          "description": "Endereço"
        },
        "number": {
          "type": "string",
          "description": "Número do endereço"
        },
        "additional_details": {
          "type": "string",
          "description": "Complemento"
        },
        "zipcode": {
          "type": "string",
          "description": "Código postal"
        },
        "neighborhood": {
          "type": "string",
          "description": "Bairro"
        },
        "city": {
          "type": "string",
          "description": "Cidade"
        },
        "state": {
          "type": "string",
          "description": "Código do estado no formato ISO 3166-2. Exemplo: SP"
        },
        "country": {
          "type": "string",
          "description": "Código do país no formato ISO 3166-1 alpha-2. Exemplo: BR"
        }
      }
    },
    "Phone": {
      "id": "Phone",
      "properties": {
        "id": {
          "type": "integer",
          "description": "ID do número de telefone",
          "format": "int32"
        },
        "phone_type": {
          "type": "string",
          "description": "Tipo",
          "enum": [
            "mobile",
            "landline"
          ]
        },
        "number": {
          "type": "string",
          "description": "Número de telefone no formato E.164 incluindo código do país e código de área. Exemplo: 5511975416666"
        },
        "extension": {
          "type": "string",
          "description": "Ramal com até 6 dígitos"
        }
      },
      "required": [
        "id",
        "phone_type",
        "number"
      ]
    },
    "Customer::Parameters::Create": {
      "id": "Customer::Parameters::Create",
      "properties": {
        "name": {
          "type": "string",
          "description": "Nome do cliente"
        },
        "email": {
          "type": "string",
          "description": "E-mail do cliente"
        },
        "registry_code": {
          "type": "string",
          "description": "CPF ou CNPJ do cliente"
        },
        "code": {
          "type": "string",
          "description": "Código opcional para referência via API"
        },
        "notes": {
          "type": "string",
          "description": "Observações adicionais internas sobre o cliente"
        },
        "metadata": {
          "$ref": "metadata",
          "description": "Metadados do cliente"
        },
        "address": {
          "$ref": "Address::Parameters",
          "description": "Endereço"
        },
        "phones": {
          "items": {
            "$ref": "Phone::Parameters::Create"
          },
          "type": "array",
          "description": "Lista de números de telefone do cliente"
        }
      },
      "required": [
        "name"
      ]
    },
    "Address::Parameters": {
      "id": "Address::Parameters",
      "properties": {
        "street": {
          "type": "string",
          "description": "Endereço"
        },
        "number": {
          "type": "string",
          "description": "Número do endereço"
        },
        "additional_details": {
          "type": "string",
          "description": "Complemento"
        },
        "zipcode": {
          "type": "string",
          "description": "Código postal"
        },
        "neighborhood": {
          "type": "string",
          "description": "Bairro"
        },
        "city": {
          "type": "string",
          "description": "Cidade"
        },
        "state": {
          "type": "string",
          "description": "Código do estado no formato ISO 3166-2. Exemplo: SP"
        },
        "country": {
          "type": "string",
          "description": "Código do país no formato ISO 3166-1 alpha-2. Exemplo: BR"
        }
      }
    },
    "Phone::Parameters::Create": {
      "id": "Phone::Parameters::Create",
      "properties": {
        "phone_type": {
          "type": "string",
          "description": "Tipo",
          "enum": [
            "mobile",
            "landline"
          ]
        },
        "number": {
          "type": "string",
          "description": "Número de telefone no formato E.164 incluindo código do país e código de área. Exemplo: 5511975416666"
        },
        "extension": {
          "type": "string",
          "description": "Ramal com até 6 dígitos"
        }
      },
      "required": [
        "phone_type",
        "number"
      ]
    },
    "Customer::Parameters::Update": {
      "id": "Customer::Parameters::Update",
      "properties": {
        "name": {
          "type": "string",
          "description": "Nome do cliente"
        },
        "email": {
          "type": "string",
          "description": "E-mail do cliente"
        },
        "registry_code": {
          "type": "string",
          "description": "CPF ou CNPJ do cliente"
        },
        "code": {
          "type": "string",
          "description": "Código opcional para referência via API"
        },
        "notes": {
          "type": "string",
          "description": "Observações adicionais internas sobre o cliente"
        },
        "metadata": {
          "$ref": "metadata",
          "description": "Metadados do cliente"
        },
        "address": {
          "$ref": "Address::Parameters",
          "description": "Endereço"
        },
        "phones": {
          "items": {
            "$ref": "Phone::Parameters::Update"
          },
          "type": "array",
          "description": "Lista de números de telefone do cliente"
        }
      },
      "required": [
        "name"
      ]
    },
    "Phone::Parameters::Update": {
      "id": "Phone::Parameters::Update",
      "properties": {
        "id": {
          "type": "integer",
          "description": "ID do número de telefone. Informe apenas para atualizar um objeto existente",
          "format": "int32"
        },
        "phone_type": {
          "type": "string",
          "description": "Tipo",
          "enum": [
            "mobile",
            "landline"
          ]
        },
        "number": {
          "type": "string",
          "description": "Número de telefone no formato E.164 incluindo código do país e código de área. Exemplo: 5511975416666"
        },
        "extension": {
          "type": "string",
          "description": "Ramal com até 6 dígitos"
        }
      },
      "required": [
        "phone_type",
        "number"
      ]
    }
  }
}