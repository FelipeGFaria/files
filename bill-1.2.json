{"apiVersion":"v1","swaggerVersion":"1.2","resourcePath":"/bills","produces":["application/json; charset=UTF-8"],"apis":[{"path":"/v1/bills","operations":[{"notes":"\u003cp\u003eUtilize este método para listar as faturas associadas à sua conta na Vindi. Leia a documentação sobre \u003ca href=\"http://atendimento.vindi.com.br/hc/pt-br/articles/203020644#pagination\"\u003epaginação\u003c/a\u003e e \u003ca href=\"http://atendimento.vindi.com.br/hc/pt-br/articles/204163150\"\u003efiltros de busca\u003c/a\u003e.\u003c/p\u003e\n\n\u003ch4 id=\"atributos-para-busca\"\u003eAtributos para busca\u003c/h4\u003e\n\n\u003cp\u003e\u003ccode\u003eid\u003c/code\u003e, \u003ccode\u003ecode\u003c/code\u003e, \u003ccode\u003einstallments\u003c/code\u003e, \u003ccode\u003eperiod_id\u003c/code\u003e, \u003ccode\u003esubscription_id\u003c/code\u003e, \u003ccode\u003ecustomer_id\u003c/code\u003e, \u003ccode\u003eamount\u003c/code\u003e, \u003ccode\u003estatus\u003c/code\u003e, \u003ccode\u003epayment_method_id\u003c/code\u003e, \u003ccode\u003eseen_at\u003c/code\u003e, \u003ccode\u003edue_at\u003c/code\u003e, \u003ccode\u003ebilling_at\u003c/code\u003e, \u003ccode\u003ecreated_at\u003c/code\u003e e \u003ccode\u003eupdated_at\u003c/code\u003e.\u003c/p\u003e\n\n\u003ch4 id=\"itens-da-fatura\"\u003eItens da fatura\u003c/h4\u003e\n\n\u003cp\u003eUma fatura é composta de vários itens representados no array \u003ccode\u003ebill_items\u003c/code\u003e. Este endpoint lista apenas os 25 primeiros itens de cada fatura. Caso queira listar mais itens de uma fatura, utilize o método da API \u003ccode\u003eGET /bills/{id}/bill_items\u003c/code\u003e.\u003c/p\u003e\n","summary":"Retorna uma lista de faturas.","nickname":"GET--version-bills---format-","method":"GET","parameters":[{"paramType":"query","name":"page","description":"\u003cp\u003ePage of results to fetch.\u003c/p\u003e\n","type":"integer","required":false,"allowMultiple":false,"format":"int32","defaultValue":1},{"paramType":"query","name":"per_page","description":"\u003cp\u003eNumber of results to return per page.\u003c/p\u003e\n","type":"integer","required":false,"allowMultiple":false,"format":"int32"},{"paramType":"query","name":"query","description":"\u003cp\u003eFiltro para busca\u003c/p\u003e\n","type":"string","required":false,"allowMultiple":false},{"paramType":"query","name":"sort_by","description":"\u003cp\u003eAtributo opcional para ordenação\u003c/p\u003e\n","type":"string","required":false,"allowMultiple":false,"defaultValue":"created_at","enum":["id","code","installments","period_id","subscription_id","customer_id","amount","status","payment_method_id","seen_at","due_at","billing_at","created_at","updated_at"]},{"paramType":"query","name":"sort_order","description":"\u003cp\u003eSentido opcional para ordenação\u003c/p\u003e\n","type":"string","required":false,"allowMultiple":false,"defaultValue":"asc","enum":["asc","desc"]}],"type":"Bill","responseMessages":[{"code":200,"message":"Consulta realizada com sucesso."},{"code":422,"message":"Parâmetros inválidos. Verificar erro na resposta."},{"code":400,"message":"Erro de sintaxe JSON no corpo do request."}]},{"notes":"\u003cp\u003eFaturas avulsas são independentes de assinaturas e podem ser usadas para cobrar qualquer tipo de valor não recorrente.\u003c/p\u003e\n\n\u003cp\u003eTodas as faturas seguirão as configurações de retentativa e notificações previamente configuradas na plataforma.\u003c/p\u003e\n\n\u003ch4 id=\"exemplo\"\u003eExemplo\u003c/h4\u003e\n\n\u003cp\u003eA maioria dos parâmetros deste método são opcionais. O exemplo abaixo efetua a emissão de uma fatura avulsa usando apenas os atributos obrigatórios:\u003c/p\u003e\n\n\u003cpre\u003e\u003ccode\u003e{\n  \"customer_id\": 28,\n  \"payment_method_code\": \"bank_slip\",\n  \"bill_items\": [\n    {\n      \"product_id\": 14,\n      \"amount\": 100\n    }\n  ]\n}\n\u003c/code\u003e\u003c/pre\u003e\n\n\u003cp\u003eRecomendamos que você implemente apenas estes parâmetros obrigatórios e adicione os opcionais a medida que a necessidade sugir. Normalmente o comportamento padrão da plataforma é suficiente para a maioria dos casos de uso.\u003c/p\u003e\n\n\u003ch4 id=\"lista-de-produtos\"\u003eLista de produtos\u003c/h4\u003e\n\n\u003cp\u003eSua fatura avulsa deve conter no mínimo um item na lista \u003ccode\u003ebill_items\u003c/code\u003e. Você deve referenciar o produto através do parâmetro \u003ccode\u003eproduct_id\u003c/code\u003e ou \u003ccode\u003eproduct_code\u003c/code\u003e.\u003c/p\u003e\n\n\u003cp\u003eDiferente das faturas geradas a partir de assinaturas, o valor dos itens das faturas avulsas pode ser informado através do parâmetro \u003ccode\u003eamount\u003c/code\u003e dentro da lista \u003ccode\u003ebill_items\u003c/code\u003e.\u003c/p\u003e\n\n\u003cp\u003eApesar do \u003ccode\u003ebill_item\u003c/code\u003e suportar um esquema de precificação (\u003ccode\u003epricing_schema\u003c/code\u003e) com quantidade (\u003ccode\u003equantity\u003c/code\u003e), recomendamos utilizar apenas o parâmetro \u003ccode\u003eamount\u003c/code\u003e para evitar complexidade desnecessária no desenvolvimento. Se \u003ccode\u003epricing_schema\u003c/code\u003e, \u003ccode\u003equantity\u003c/code\u003e e \u003ccode\u003eamount\u003c/code\u003e forem informados ao mesmo tempo, garanta que todos sejam mutuamente válidos.\u003c/p\u003e\n\n\u003ch4 id=\"mtodo-de-pagamento\"\u003eMétodo de pagamento\u003c/h4\u003e\n\n\u003cp\u003eÉ obrigatório informar o código do método de pagamento para a geração da fatura. Caso o método escolhido seja cartão de crédito, por exemplo, a plataforma irá tentar efetuar a cobrança com o cartão já cadastrado para o respectivo cliente. Caso nenhum cartão esteja cadastrado, a plataforma enviará por padrão um e-mail automático solicitando os dados de pagamento.\u003c/p\u003e\n\n\u003cp\u003eSe preferir, você ainda poderá efetuar a captura dos dados de pagamento de duas outras formas diferentes:\u003c/p\u003e\n\n\u003cul\u003e\n  \u003cli\u003eCapture os dados em uma página própria (obrigatoriamente com HTTPS) e informe-os para a Vindi através do método da API \u003ccode\u003ePOST payment_profiles\u003c/code\u003e antes de criar a fatura;\u003c/li\u003e\n  \u003cli\u003eOu então redirecione o cliente para o parâmetro \u003ccode\u003eurl\u003c/code\u003e da fatura recém-criada, onde ele poderá imprimir o boleto ou inserir as informações de pagamento dentro do ambiente seguro da Vindi.\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch4 id=\"condio-de-pagamento\"\u003eCondição de pagamento\u003c/h4\u003e\n\n\u003cp\u003ePor padrão, a condição de pagamento configurada no método de pagamento será utilizada para emitir a cobrança da fatura avulsa.\u003c/p\u003e\n\n\u003cp\u003eSe desejar customizar a condição para uma fatura específica, informe o parâmetro \u003ccode\u003epayment_condition\u003c/code\u003e.\u003c/p\u003e\n","summary":"Cria uma nova fatura avulsa.","nickname":"POST--version-bills---format-","method":"POST","parameters":[{"paramType":"body","name":"body","description":"\u003cp\u003eJSON com atributos da fatura avulsa.\u003c/p\u003e\n","type":"Bill::Parameters::Create","required":false,"allowMultiple":false}],"type":"Bill","responseMessages":[{"code":201,"message":"Fatura avulsa criada com sucesso."},{"code":422,"message":"Parâmetros inválidos. Verificar erro na resposta."},{"code":400,"message":"Erro de sintaxe JSON no corpo do request."}]}]},{"path":"/v1/bills/{id}","operations":[{"notes":"\u003cp\u003eA fatura totaliza, em valores financeiros, mercadorias ou serviços que serão cobrados do cliente final. Faturas podem ser classificadas em dois tipos:\u003c/p\u003e\n\n\u003col\u003e\n  \u003cli\u003e\u003cstrong\u003eFaturas provenientes de assinaturas\u003c/strong\u003e: São as faturas geradas a partir de assinaturas e seus respectivos períodos.\u003c/li\u003e\n  \u003cli\u003e\u003cstrong\u003eFaturas avulsas\u003c/strong\u003e: Faturas que não possuem qualquer relação com uma assinatura.\u003c/li\u003e\n\u003c/ol\u003e\n\n\u003ch4 id=\"faturas-provenientes-de-assinaturas\"\u003eFaturas provenientes de assinaturas\u003c/h4\u003e\n\u003cp\u003ePodem ser geradas de duas formas diferentes:\u003c/p\u003e\n\n\u003col\u003e\n  \u003cli\u003e\u003cstrong\u003eAutomaticamente\u003c/strong\u003e no dia programado para cobrança através do atributo \u003ccode\u003ebilling_at\u003c/code\u003e do período (apenas se este cumprir com os requisitos de faturamento automático).\u003c/li\u003e\n  \u003cli\u003e\u003cstrong\u003eManualmente\u003c/strong\u003e através do painel de administração ou pelo método da API \u003ccode\u003ePOST /periods/{id}/bill\u003c/code\u003e.\u003c/li\u003e\n\u003c/ol\u003e\n\n\u003ch4 id=\"aprovao-de-faturas\"\u003eAprovação de faturas\u003c/h4\u003e\n\n\u003cp\u003eAo menos que seja especificado nas configurações da plataforma, toda fatura é gerada com o status “Aguardando aprovação” (\u003ccode\u003ereview\u003c/code\u003e). Este status serve para validar os valores que serão enviados e cobrados do cliente final. A fatura será cobrada somente após a aprovação, que pode ser feita manualmente através do painel de administração ou do método da API \u003ccode\u003ePOST /bills/{id}/approve\u003c/code\u003e.\u003c/p\u003e\n\n\u003ch4 id=\"itens-da-fatura\"\u003eItens da fatura\u003c/h4\u003e\n\n\u003cp\u003eUma fatura é composta de vários itens representados no array \u003ccode\u003ebill_items\u003c/code\u003e. Cada item possui um valor e um produto associado. A soma de todos os itens é igual ao total da fatura. A única exceção para esta regra é no caso da aplicação de movimentos adicionais de crédito ou débito.\u003c/p\u003e\n\n\u003ch4 id=\"descontos\"\u003eDescontos\u003c/h4\u003e\n\n\u003cp\u003eUm desconto será representado por um \u003ccode\u003ebill_item\u003c/code\u003e com \u003ccode\u003eamount\u003c/code\u003e negativo e um objeto \u003ccode\u003ediscount\u003c/code\u003e associado. Apenas faturas de assinaturas possuem descontos. Faturas avulsas devem ser geradas com seu valor final.\u003c/p\u003e\n\n\u003ch4 id=\"cobranas\"\u003eCobranças\u003c/h4\u003e\n\n\u003cp\u003eO ato da aprovação da fatura, seja ele automático ou manual, irá gerar um objeto do tipo cobrança (\u003ccode\u003echarge\u003c/code\u003e). Este objeto é a representação da cobrança enviada ao cliente e controla, entre outras coisas, vencimento, notificações automáticas e número de retentativas. Normalmente uma fatura irá conter uma única cobrança, porém a plataforma suporta múltiplas cobranças para uma mesma fatura.\u003c/p\u003e\n","summary":"Retorna uma fatura específica através do ID.","nickname":"GET--version-bills--id---format-","method":"GET","parameters":[{"paramType":"path","name":"id","description":"\u003cp\u003eID da fatura que deverá ser retornada.\u003c/p\u003e\n","type":"integer","required":true,"allowMultiple":false,"format":"int32"}],"type":"Bill","responseMessages":[{"code":200,"message":"Ok. Fatura encontrada."},{"code":404,"message":"Fatura não encontrada."},{"code":422,"message":"Parâmetros inválidos. Verificar erro na resposta."},{"code":400,"message":"Erro de sintaxe JSON no corpo do request."}]},{"notes":"\u003cp\u003eUtilize este método para alterar os atributos de uma fatura existente.\u003c/p\u003e\n\n\u003ch4 id=\"reagendamento-da-cobrana-agendada\"\u003eReagendamento da cobrança agendada\u003c/h4\u003e\n\u003cp\u003eAtravés do atributo \u003ccode\u003ebilling_at\u003c/code\u003e é possível atualizar a data da cobrança uma fatura agendada (\u003ccode\u003estatus=scheduled\u003c/code\u003e) para qualquer outra data no futuro. Esteja ciente que este método não permite o reagendamento para hoje. Se desejar antecipar imediatamente a cobrança uma fatura agendada, utilize o método \u003ccode\u003ePOST /bills/{id}/charge\u003c/code\u003e.\u003c/p\u003e\n","summary":"Atualiza uma fatura existente.","nickname":"PUT--version-bills--id---format-","method":"PUT","parameters":[{"paramType":"path","name":"id","description":"\u003cp\u003eID da fatura que deverá ser atualizada.\u003c/p\u003e\n","type":"integer","required":true,"allowMultiple":false,"format":"int32"},{"paramType":"body","name":"body","description":"\u003cp\u003eJSON com os novos atributos da fatura.\u003c/p\u003e\n","type":"Bill::Parameters::Update","required":false,"allowMultiple":false}],"type":"Bill","responseMessages":[{"code":200,"message":"Fatura atualizada com sucesso."},{"code":404,"message":"Fatura não encontrada."},{"code":422,"message":"Parâmetros inválidos. Verificar erro na resposta."},{"code":400,"message":"Erro de sintaxe JSON no corpo do request."}]},{"notes":"","summary":"Cancela uma fatura através do ID.","nickname":"DELETE--version-bills--id---format-","method":"DELETE","parameters":[{"paramType":"path","name":"id","description":"\u003cp\u003eID da fatura a ser cancelada.\u003c/p\u003e\n","type":"integer","required":true,"allowMultiple":false,"format":"int32"},{"paramType":"query","name":"comments","description":"\u003cp\u003eComentários opcionais sobre o cancelamento.\u003c/p\u003e\n","type":"string","required":false,"allowMultiple":false}],"type":"Bill","responseMessages":[{"code":200,"message":"Fatura cancelada com sucesso."},{"code":404,"message":"Fatura não encontrada."},{"code":422,"message":"Parâmetros inválidos. Verificar erro na resposta."},{"code":400,"message":"Erro de sintaxe JSON no corpo do request."}]}]},{"path":"/v1/bills/{id}/bill_items","operations":[{"notes":"\u003cp\u003eUtilize este método para listar os itens associados a uma fatura. Leia a documentação sobre \u003ca href=\"http://atendimento.vindi.com.br/hc/pt-br/articles/203020644#pagination\"\u003epaginação\u003c/a\u003e.\u003c/p\u003e\n","summary":"Retorna os itens de fatura através de seu ID.","nickname":"GET--version-bills--id-bill_items---format-","method":"GET","parameters":[{"paramType":"path","name":"id","description":"\u003cp\u003eID da fatura cujos itens deverão ser retornados.\u003c/p\u003e\n","type":"integer","required":true,"allowMultiple":false,"format":"int32"},{"paramType":"query","name":"page","description":"\u003cp\u003ePage of results to fetch.\u003c/p\u003e\n","type":"integer","required":false,"allowMultiple":false,"format":"int32","defaultValue":1},{"paramType":"query","name":"per_page","description":"\u003cp\u003eNumber of results to return per page.\u003c/p\u003e\n","type":"integer","required":false,"allowMultiple":false,"format":"int32"}],"type":"BillItem","responseMessages":[{"code":200,"message":"Ok. Itens encontrados."},{"code":422,"message":"Parâmetros inválidos. Verificar erro na resposta."},{"code":400,"message":"Erro de sintaxe JSON no corpo do request."}]}]},{"path":"/v1/bills/{id}/approve","operations":[{"notes":"\u003cp\u003eAo aprovar a fatura, a cobrança será gerada e processada dependendo do método de pagamento escolhido. Apenas faturas com o status \u003ccode\u003ereview\u003c/code\u003e podem ser aprovadas.\u003c/p\u003e\n","summary":"Aprova uma fatura através do ID.","nickname":"POST--version-bills--id-approve---format-","method":"POST","parameters":[{"paramType":"path","name":"id","description":"\u003cp\u003eID da fatura que será aprovada.\u003c/p\u003e\n","type":"integer","required":true,"allowMultiple":false,"format":"int32"}],"type":"Bill","responseMessages":[{"code":201,"message":"Fatura aprovada com sucesso."},{"code":404,"message":"Fatura não encontrada."},{"code":422,"message":"Parâmetros inválidos. Verificar erro na resposta."},{"code":400,"message":"Erro de sintaxe JSON no corpo do request."}]}]},{"path":"/v1/bills/{id}/charge","operations":[{"notes":"\u003cp\u003eUtilize este método para antecipar imediatamente a cobrança de uma fatura agendada (\u003ccode\u003estatus=scheduled\u003c/code\u003e) ou então para cobrar um saldo devedor. Uma nova cobrança será emitida automaticamente.\u003c/p\u003e\n","summary":"Antecipa imediatamente a cobrança de uma fatura através do ID.","nickname":"POST--version-bills--id-charge---format-","method":"POST","parameters":[{"paramType":"path","name":"id","description":"\u003cp\u003eID da fatura que será antecipada.\u003c/p\u003e\n","type":"integer","required":true,"allowMultiple":false,"format":"int32"},{"paramType":"body","name":"body","description":"\u003cp\u003eJSON opcional com os atributos da fatura.\u003c/p\u003e\n","type":"Bill::Parameters::Charge","required":false,"allowMultiple":false}],"type":"Bill","responseMessages":[{"code":200,"message":"Fatura antecipada com sucesso."},{"code":404,"message":"Fatura não encontrada."},{"code":422,"message":"Parâmetros inválidos. Verificar erro na resposta."},{"code":400,"message":"Erro de sintaxe JSON no corpo do request."}]}]},{"path":"/v1/bills/{id}/invoice","operations":[{"notes":"\u003cp\u003eUtilize esta operação para gerar notas fiscais a partir de uma fatura existente. Para isso é necessário que exista uma integração do tipo nota fiscal ativada e a fatura ainda não possua nenhuma nota fiscal gerada.\u003c/p\u003e\n\n\u003cp\u003eMúltiplas notas fiscais poderão ser geradas caso você esteja usando configurações com esta finalidade, como por exemplo, a \u003ca href=\"https://atendimento.vindi.com.br/hc/pt-br/articles/115003695667-Nota-fiscal-fracionada\"\u003enota fiscal fracionada\u003c/a\u003e.\u003c/p\u003e\n\n\u003cp\u003eCaso seja necessário emitir notas fiscais avulsas com configurações específicas, utilize o método \u003ccode\u003ePOST /invoices\u003c/code\u003e.\u003c/p\u003e\n","summary":"Gera notas fiscais de uma fatura através do ID.","nickname":"POST--version-bills--id-invoice---format-","method":"POST","parameters":[{"paramType":"path","name":"id","description":"\u003cp\u003eID da fatura que irá gerar as notas fiscais.\u003c/p\u003e\n","type":"integer","required":true,"allowMultiple":false,"format":"int32"}],"type":"Invoice","responseMessages":[{"code":200,"message":"Notas fiscais geradas com sucesso."},{"code":404,"message":"Fatura não encontrada."},{"code":422,"message":"Parâmetros inválidos. Verificar erro na resposta."},{"code":400,"message":"Erro de sintaxe JSON no corpo do request."}]}]}],"basePath":"https://app.vindi.com.br/api","models":{"Bill":{"id":"Bill","properties":{"id":{"type":"integer","description":"ID da fatura","format":"int32"},"code":{"type":"string","description":"Código externo para referência via API"},"amount":{"$ref":"number","description":"Valor da fatura"},"installments":{"type":"integer","description":"Número de parcelas","format":"int32"},"status":{"type":"string","description":"Status da fatura","enum":["review","pending","paid","canceled","scheduled"]},"seen_at":{"type":"string","description":"Última visualização da fatura"},"billing_at":{"type":"string","description":"Data opcional de emissão da cobrança"},"due_at":{"type":"string","description":"Data de vencimento da fatura"},"url":{"type":"string","description":"URL para pagamento da fatura"},"created_at":{"type":"string","description":"Data e hora da geração da fatura"},"updated_at":{"type":"string","description":"Data e hora da última atualização da fatura"},"bill_items":{"items":{"$ref":"BillItem"},"type":"array","description":"Itens da fatura.\n              Este atributo exibe os primeiros 25 itens.\n              Para os demais, consulte o método `GET /bills/:id/bill_items`"},"charges":{"items":{"$ref":"BillCharge"},"type":"array","description":"Cobranças da fatura"},"customer":{"$ref":"Customer::Summary","description":"Cliente da fatura"},"period":{"$ref":"Period::Summary","description":"Período da fatura. Este atributo permancerá nulo em faturas avulsas"},"subscription":{"$ref":"Subscription::Summary","description":"Assinatura associada à fatura. Este atributo permancerá nulo em faturas avulsas"},"metadata":{"$ref":"metadata","description":"Metadados da fatura"},"payment_profile":{"$ref":"PaymentProfile::Summary","description":"Perfil de pagamento associada à fatura. Este atributo permancerá nulo caso nenhum perfil de pagamento esteja explicitamente associado à fatura."},"payment_condition":{"$ref":"PaymentCondition::Response::Full","description":"Condição de pagamento associada à fatura.\nEste atributo permancerá nulo caso nenhuma condição de pagamento\nesteja explicitamente associada à fatura.\n"}},"required":["id","amount","installments","status","seen_at","url","created_at","updated_at"]},"BillItem":{"id":"BillItem","properties":{"id":{"type":"integer","description":"ID do item da fatura","format":"int32"},"amount":{"$ref":"number","description":"Valor do item da fatura"},"quantity":{"type":"integer","description":"Quantidade do item da fatura","format":"int32"},"pricing_range_id":{"type":"integer","description":"ID da faixa de precificação usada no cálculo do preço, se aplicável","format":"int32"},"description":{"type":"string","description":"Descrição opcional do item da fatura"},"pricing_schema":{"$ref":"PricingSchema","description":"Precificação aplicada ao item da fatura"},"product":{"$ref":"Product::Summary","description":"Produto associado ao item"},"product_item":{"$ref":"ProductItem::Summary","description":"Detalhes do item associado à assinatura. Não é informado em faturas avulsas"},"discount":{"$ref":"Discount::Summary","description":"Desconto associado ao item da fatura, se existente"}},"required":["id","amount","product"]},"PricingSchema":{"id":"PricingSchema","properties":{"id":{"type":"string","description":"ID do esquema de precificação"},"short_format":{"type":"string","description":"Descrição da precificação gerada automaticamente"},"price":{"$ref":"number","description":"Preço base"},"minimum_price":{"$ref":"number","description":"Preço mínimo"},"schema_type":{"type":"string","description":"Tipo de cálculo da precificação","enum":["flat","per_unit","step_usage","volume_usage","tier_usage"]},"pricing_ranges":{"items":{"$ref":"PricingRange"},"type":"array","description":"Lista de faixas de precificação"},"created_at":{"type":"string","description":"Data e hora do cadastro do esquema de precificação"}},"required":["id","short_format","price","schema_type","created_at"]},"PricingRange":{"id":"PricingRange","properties":{"id":{"type":"string","description":"ID do faixa de precificação"},"start_quantity":{"type":"integer","description":"Início da faixa","format":"int32"},"end_quantity":{"type":"integer","description":"Término da faixa. Opcional apenas para a última","format":"int32"},"price":{"$ref":"number","description":"Preço da unidade ou da faixa, dependendo do tipo escolhido"},"overage_price":{"$ref":"number","description":"Preço unitário do excedente da faixa"}},"required":["id","start_quantity","price"]},"Product::Summary":{"id":"Product::Summary","properties":{"id":{"type":"integer","description":"ID do produto","format":"int32"},"name":{"type":"string","description":"Nome do produto"},"code":{"type":"string","description":"Código externo do produto"}},"required":["id","name"]},"ProductItem::Summary":{"id":"ProductItem::Summary","properties":{"id":{"type":"integer","description":"ID do item","format":"int32"},"product":{"$ref":"Product::Summary","description":"Produto associado ao plano"}},"required":["id","product"]},"Discount::Summary":{"id":"Discount::Summary","properties":{"id":{"type":"integer","description":"ID do desconto","format":"int32"},"discount_type":{"type":"string","description":"Tipo do desconto","enum":["percentage","amount","quantity"]},"percentage":{"$ref":"number","description":"Valor numérico para porcentagem de 0.01 até 100"},"amount":{"$ref":"number","description":"Valor para desconto fixo"},"quantity":{"type":"integer","description":"Número para desconto por quantidade","format":"int32"},"cycles":{"type":"integer","description":"Número de ciclos de recorrência onde o desconto será aplicado a partir do momento de sua criação. Nulo significa desconto por tempo indefinido","format":"int32"}},"required":["id","discount_type"]},"BillCharge":{"id":"BillCharge","properties":{"id":{"type":"integer","description":"ID da cobrança","format":"int32"},"amount":{"$ref":"number","description":"Valor da cobrança"},"status":{"type":"string","description":"Status da cobrança","enum":["pending","paid","canceled","processing","fraud_review"]},"due_at":{"type":"string","description":"Data do vencimento da cobrança"},"paid_at":{"type":"string","description":"Data do pagamento da cobrança, apenas se a cobrança já foi paga"},"installments":{"type":"integer","description":"Número de parcelas da cobrança. Valores acima de 1 são usados apenas para parcelamento através da administradora do cartão de crédito","format":"int32"},"attempt_count":{"type":"integer","description":"Número de tentativas automáticas de cobrança já realizadas","format":"int32"},"next_attempt":{"type":"integer","description":"Data da próxima tentativa automática de cobrança","format":"int32"},"print_url":{"type":"string","description":"URL para impressão da cobrança. Usado apenas para boletos"},"created_at":{"type":"string","description":"Data e hora da geração da cobrança"},"updated_at":{"type":"string","description":"Data e hora da última atualização da cobrança"},"last_transaction":{"$ref":"Transaction::Summary","description":"Última transação realizada da cobrança"},"payment_method":{"$ref":"PaymentMethod::Summary","description":"Método de pagamento da cobrança"}},"required":["id","amount","status","due_at","installments","created_at","updated_at","last_transaction","payment_method"]},"Transaction::Summary":{"id":"Transaction::Summary","properties":{"id":{"type":"integer","description":"ID da transação","format":"int32"},"transaction_type":{"type":"string","description":"Tipo da transação","enum":["charge","refund","authorization","capture","verify","register","void","renew_payment_profile","pre_authorization","update"]},"status":{"type":"string","description":"Status da transação","enum":["processing","success","rejected","failure","timeout","waiting","canceled","fraud_review"]},"amount":{"$ref":"number","description":"Valor da transação"},"installments":{"type":"integer","description":"Número de parcelas","format":"int32"},"gateway_message":{"type":"string","description":"Mensagem de resposta do gateway"},"gateway_response_code":{"type":"string","description":"Código de resposta do gateway"},"gateway_authorization":{"type":"string","description":"Código da autorização usado no estorno ou captura. Varia de acordo com o adquirente"},"gateway_transaction_id":{"type":"string","description":"Código externo de referência do gateway. Para boletos, representa o \"nosso número\""},"gateway_response_fields":{"$ref":"hash","description":"Atributos de resposta específicos do gateway"},"fraud_detector_score":{"$ref":"number","description":"Pontuação da análise antifraude entre 0.00 e 1.00. Quanto maior a pontuação, maior o risco de fraude"},"fraud_detector_status":{"type":"string","description":"Status da análise antifraude","enum":["automatic_success","manual_success","automatic_rejected","manual_rejected","review","failure"]},"fraud_detector_id":{"type":"string","description":"ID da análise antifraude"},"created_at":{"type":"string","description":"Data e hora da transação"},"gateway":{"$ref":"Gateway::Summary","description":"Gateway usado na transação"},"payment_profile":{"$ref":"PaymentProfile::Summary","description":"Perfil de pagamento usado na transação"}},"required":["id","transaction_type","status","amount","installments","gateway_message","gateway_response_code","gateway_authorization","gateway_transaction_id","created_at","gateway","payment_profile"]},"Gateway::Summary":{"id":"Gateway::Summary","properties":{"id":{"type":"integer","description":"ID do gateway","format":"int32"},"connector":{"type":"string","description":"Conector utilizado no gateway"}},"required":["id","connector"]},"PaymentProfile::Summary":{"id":"PaymentProfile::Summary","properties":{"id":{"type":"integer","description":"ID do perfil de pagamento","format":"int32"},"holder_name":{"type":"string","description":"Nome do titular/portador do perfil de pagamento"},"registry_code":{"type":"string","description":"CPF ou CNPJ do titular/portador"},"bank_branch":{"type":"string","description":"Agência da conta bancária"},"bank_account":{"type":"string","description":"Número da conta bancária"},"card_expiration":{"type":"string","description":"Validade do cartão de crédito no formato MM/AA"},"card_number_first_six":{"type":"string","description":"Primeiros 6 dígitos do cartão de crédito (BIN/IIN)"},"card_number_last_four":{"type":"string","description":"Últimos 4 dígitos do cartão de crédito"},"token":{"type":"string","description":"Token interno para referência do perfil de pagamento"},"created_at":{"type":"string","description":"Data e hora do cadastro do perfil de pagamento"},"payment_company":{"$ref":"PaymentCompany","description":"Bandeira ou banco do perfil de pagamento"}},"required":["id","token","created_at","payment_company"]},"PaymentCompany":{"id":"PaymentCompany","properties":{"id":{"type":"integer","description":"ID da bandeira ou banco","format":"int32"},"name":{"type":"string","description":"Nome da bandeira ou banco"},"code":{"type":"string","description":"Código para referência via API"}},"required":["id","name","code"]},"PaymentMethod::Summary":{"id":"PaymentMethod::Summary","properties":{"id":{"type":"integer","description":"ID do método de pagamento","format":"int32"},"public_name":{"type":"string","description":"Nome público do método de pagamento"},"name":{"type":"string","description":"Nome interno do método de pagamento"},"code":{"type":"string","description":"Código externo para referência via API"},"type":{"type":"string","description":"Tipo do método de pagamento"}},"required":["id","public_name","name","code","type"]},"Customer::Summary":{"id":"Customer::Summary","properties":{"id":{"type":"integer","description":"ID do cliente","format":"int32"},"name":{"type":"string","description":"Nome do cliente"},"email":{"type":"string","description":"E-mail do cliente"},"code":{"type":"string","description":"Código opcional para referência via API"}},"required":["id","name"]},"Period::Summary":{"id":"Period::Summary","properties":{"id":{"type":"integer","description":"ID do período","format":"int32"},"billing_at":{"type":"string","description":"Data para geração automática da cobrança do período"},"cycle":{"type":"integer","description":"Ciclo do período","format":"int32"},"start_at":{"type":"string","description":"Data e hora do início do período"},"end_at":{"type":"string","description":"Data e hora do término do período"},"duration":{"type":"integer","description":"Duração do período em número de segundos","format":"int32"}},"required":["id","cycle","start_at","end_at","duration"]},"Subscription::Summary":{"id":"Subscription::Summary","properties":{"id":{"type":"integer","description":"ID da assinatura","format":"int32"},"code":{"type":"string","description":"Código externo para referência via API"},"plan":{"$ref":"Plan::Summary","description":"Plano da assinatura"},"customer":{"$ref":"Customer::Summary","description":"Cliente da assinatura"}},"required":["id","plan","customer"]},"Plan::Summary":{"id":"Plan::Summary","properties":{"id":{"type":"integer","description":"ID do plano","format":"int32"},"name":{"type":"string","description":"Nome do plano"},"code":{"type":"string","description":"Código externo do plano"}},"required":["id","name"]},"PaymentCondition::Response::Full":{"id":"PaymentCondition::Response::Full","properties":{"penalty_fee_value":{"$ref":"number","description":"Valor da multa"},"penalty_fee_type":{"type":"string","description":"Tipo da multa","enum":["percentage","amount"]},"daily_fee_value":{"$ref":"number","description":"Valor dos juros ao dia"},"daily_fee_type":{"type":"string","description":"Tipo dos juros ao dia","enum":["percentage","amount"]},"after_due_days":{"type":"integer","description":"Prazo para pagamento após vencimento","format":"int32"},"payment_condition_discounts":{"items":{"$ref":"PaymentConditionDiscount::Response::Full"},"type":"array","description":"Desconto de pontualidade"}},"required":["penalty_fee_value","penalty_fee_type","daily_fee_value","daily_fee_type","after_due_days","payment_condition_discounts"]},"PaymentConditionDiscount::Response::Full":{"id":"PaymentConditionDiscount::Response::Full","properties":{"value":{"$ref":"number","description":"Valor"},"value_type":{"type":"string","description":"Tipo","enum":["percentage","amount"]},"days_before_due":{"type":"integer","description":"Dias antes do vencimento","format":"int32"}},"required":["value","value_type","days_before_due"]},"Bill::Parameters::Create":{"id":"Bill::Parameters::Create","properties":{"customer_id":{"type":"integer","description":"ID do cliente","format":"int32"},"code":{"type":"string","description":"Código externo para referência via API"},"installments":{"type":"integer","description":"Número de parcelas. Se não informado, o valor '1' será utilizado","format":"int32"},"payment_method_code":{"type":"string","description":"Código do método de pagamento"},"billing_at":{"type":"string","description":"Data opcional de emissão da cobrança no formato ISO 8601. Se não informada, a cobrança será imediata"},"due_at":{"type":"string","description":"Data opcional de vencimento da cobrança no formato ISO 8601. Se não informada, o vencimento padrão será utilizado"},"bill_items":{"items":{"$ref":"BillItem::Parameters::Create"},"type":"array","description":"Lista de itens da fatura"},"metadata":{"$ref":"metadata","description":"Metadados da fatura"},"payment_profile":{"$ref":"PaymentProfile::Parameters::FindOrCreate","description":"Perfil de pagamento associado à fatura. Se não informado, o perfil de pagamento mais recente será utilizado (recomedável)"},"payment_condition":{"$ref":"PaymentCondition::Request::Create","description":"Condição de pagamento. Se não informada, a condição do método de\npagamento será utilizada (recomendável)\n"}},"required":["customer_id","payment_method_code","bill_items"]},"BillItem::Parameters::Create":{"id":"BillItem::Parameters::Create","properties":{"product_id":{"$ref":"number","description":"ID do produto associado ao item da fatura"},"product_code":{"type":"string","description":"Código do produto associado ao item da fatura"},"amount":{"$ref":"number","description":"Valor do item da fatura"},"description":{"type":"string","description":"Descrição opcional do item da fatura"},"quantity":{"type":"integer","description":"Quantidade do item da fatura","format":"int32"},"pricing_schema":{"$ref":"PricingSchema::Parameters","description":"Esquema de precificação do item. Informe apenas se quiser customizar a exibição da precificação"}},"required":["amount"]},"PricingSchema::Parameters":{"id":"PricingSchema::Parameters","properties":{"price":{"$ref":"number","description":"Preço base"},"minimum_price":{"$ref":"number","description":"Preço mínimo"},"schema_type":{"type":"string","description":"Tipo de cálculo da precificação","enum":["flat","per_unit","step_usage","volume_usage","tier_usage"]},"pricing_ranges":{"items":{"$ref":"PricingRange::Parameters"},"type":"array","description":"Lista de faixas de precificação"}},"required":["price","schema_type"]},"PricingRange::Parameters":{"id":"PricingRange::Parameters","properties":{"start_quantity":{"type":"integer","description":"Início da faixa","format":"int32"},"end_quantity":{"type":"integer","description":"Término da faixa. Opcional apenas para a última","format":"int32"},"price":{"$ref":"number","description":"Preço da unidade ou da faixa, dependendo do tipo escolhido"},"overage_price":{"$ref":"number","description":"Preço unitário do excedente da faixa"}},"required":["start_quantity","price"]},"PaymentProfile::Parameters::FindOrCreate":{"id":"PaymentProfile::Parameters::FindOrCreate","properties":{"id":{"type":"integer","description":"ID do perfil de pagamento existente","format":"int32"},"holder_name":{"type":"string","description":"Nome do titular/portador do perfil de pagamento"},"registry_code":{"type":"string","description":"CPF ou CNPJ do titular/portador"},"bank_branch":{"type":"string","description":"Agência da conta bancária"},"bank_account":{"type":"string","description":"Número da conta bancária"},"card_expiration":{"type":"string","description":"Validade do cartão de crédito no formato MM/AA"},"card_number":{"type":"string","description":"Número completo do cartão de crédito"},"card_cvv":{"type":"string","description":"Código de segurança do cartão de crédito com 3 ou 4 dígitos"},"payment_method_code":{"type":"string","description":"Código do método de pagamento"},"payment_company_code":{"type":"string","description":"Código do banco ou bandeira"},"gateway_token":{"type":"string","description":"Token externo"}}},"PaymentCondition::Request::Create":{"id":"PaymentCondition::Request::Create","properties":{"penalty_fee_value":{"$ref":"number","description":"Valor da multa"},"penalty_fee_type":{"type":"string","description":"Tipo da multa","enum":["percentage","amount"]},"daily_fee_value":{"$ref":"number","description":"Valor dos juros ao dia"},"daily_fee_type":{"type":"string","description":"Tipo dos juros ao dia","enum":["percentage","amount"]},"after_due_days":{"type":"integer","description":"Prazo para pagamento após vencimento","format":"int32"},"payment_condition_discounts":{"items":{"$ref":"PaymentConditionDiscount::Request::Create"},"type":"array","description":"Desconto de pontualidade"}}},"PaymentConditionDiscount::Request::Create":{"id":"PaymentConditionDiscount::Request::Create","properties":{"value":{"$ref":"number","description":"Valor"},"value_type":{"type":"string","description":"Tipo","enum":["percentage","amount"]},"days_before_due":{"type":"integer","description":"Dias antes do vencimento","format":"int32"}},"required":["value","value_type","days_before_due"]},"Bill::Parameters::Update":{"id":"Bill::Parameters::Update","properties":{"code":{"type":"string","description":"Código externo para referência via API"},"payment_method_code":{"type":"string","description":"Código do método de pagamento. Se não informado, o método atual será utilizado"},"installments":{"type":"integer","description":"Número de parcelas. Se não informado, o valor atual será utilizado","format":"int32"},"billing_at":{"type":"string","description":"Data opcional de emissão da cobrança no formato ISO 8601. Apenas para faturas agendadas"},"due_at":{"type":"string","description":"Data opcional de vencimento da cobrança no formato ISO 8601. Apenas para faturas agendadas"},"metadata":{"$ref":"metadata","description":"Metadados da fatura"},"payment_profile":{"$ref":"PaymentProfile::Parameters::FindOrCreate","description":"Perfil de pagamento associado à fatura. Se não informado, o perfil de pagamento mais recente será utilizado (recomedável)"}}},"Bill::Parameters::Charge":{"id":"Bill::Parameters::Charge","properties":{"payment_method_code":{"type":"string","description":"Código do método de pagamento. Se não informado, o método atual será utilizado"},"installments":{"type":"integer","description":"Número de parcelas. Se não informado, o valor atual será utilizado","format":"int32"}}},"Invoice":{"id":"Invoice","properties":{"id":{"type":"integer","description":"ID da nota fiscal","format":"int32"},"amount":{"$ref":"number","description":"Valor da nota fiscal"},"status":{"type":"string","description":"Status da nota fiscal","enum":["processing","success","failure","canceled","waiting","processing_cancel","cancel_failure","scheduled"]},"integration_invoice_id":{"type":"string","description":"Código externo da integração"},"integration_reference":{"type":"string","description":"Número ou referência da nota fiscal na instituição governamental"},"print_url":{"type":"string","description":"URL para impressão da nota fiscal"},"description":{"type":"string","description":"Descrição usada para a geração nota fiscal. Se não informada, a configuração padrão da integração será usada"},"settings":{"$ref":"hash","description":"Configurações adicionais usadas na integração"},"issued_at":{"type":"string","description":"Data e hora da emissão da nota fiscal"},"accrued_on":{"type":"string","description":"Data de competência da nota fiscal"},"scheduled_at":{"type":"string","description":"Data e hora do agendamento da nota fiscal"},"created_at":{"type":"string","description":"Data e hora da geração da nota fiscal"},"updated_at":{"type":"string","description":"Data e hora da última atualização da nota fiscal"},"bill":{"$ref":"Bill::Summary","description":"Fatura que gerou a nota fiscal"},"customer":{"$ref":"Customer::Summary","description":"Cliente da nota fiscal"}},"required":["id","amount","status","integration_invoice_id","integration_reference","created_at","updated_at","bill","customer"]},"Bill::Summary":{"id":"Bill::Summary","properties":{"id":{"type":"integer","description":"ID da fatura","format":"int32"},"code":{"type":"string","description":"Código externo para referência via API"}},"required":["id"]}}}
